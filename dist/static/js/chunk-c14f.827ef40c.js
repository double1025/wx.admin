(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c14f"],{c11S:function(e,t,o){"use strict";var r=o("gTgX");o.n(r).a},gTgX:function(e,t,o){},iINP:function(e,t,o){},ntYl:function(e,t,o){"use strict";o.r(t);var r=o("p46w"),n=o.n(r),c=void 0,s={name:"Login",data:function(){return{form:{username:"",password:"",code:""},form_rules:{username:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"请输入6-20位密码",trigger:"blur"}]},form_rules_422:[],loading:!1,pwdType:"password",redirect:void 0,show_code:!1,vcode:""}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},computed:{title:function(){return"X平台"}},mounted:function(){this.g_cc.func_set_vue(this),c=this.g_cc.func_get_vue()},methods:{test:function(){console.log(this.$store)},showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},func_login:function(){c.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;console.log("ok"),c.__func_login()})},__func_login:function(){var e=(new function(){this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",this.encode=function(e){var t,o,r,n,c,s,a,i="",d=0;for(e=this._utf8_encode(e);d<e.length;)n=(t=e.charCodeAt(d++))>>2,c=(3&t)<<4|(o=e.charCodeAt(d++))>>4,s=(15&o)<<2|(r=e.charCodeAt(d++))>>6,a=63&r,isNaN(o)?s=a=64:isNaN(r)&&(a=64),i=i+this._keyStr.charAt(n)+this._keyStr.charAt(c)+this._keyStr.charAt(s)+this._keyStr.charAt(a);return i},this.decode=function(e){var t,o,r,n,c,s,a="",i=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");i<e.length;)t=_keyStr.indexOf(e.charAt(i++))<<2|(n=_keyStr.indexOf(e.charAt(i++)))>>4,o=(15&n)<<4|(c=_keyStr.indexOf(e.charAt(i++)))>>2,r=(3&c)<<6|(s=_keyStr.indexOf(e.charAt(i++))),a+=String.fromCharCode(t),64!=c&&(a+=String.fromCharCode(o)),64!=s&&(a+=String.fromCharCode(r));return a=this._utf8_decode(a)},this._utf8_encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",o=0;o<e.length;o++){var r=e.charCodeAt(o);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},this._utf8_decode=function(e){for(var t="",o=0,r=c1=c2=0;o<e.length;)(r=e.charCodeAt(o))<128?(t+=String.fromCharCode(r),o++):r>191&&r<224?(c2=e.charCodeAt(o+1),t+=String.fromCharCode((31&r)<<6|63&c2),o+=2):(c2=e.charCodeAt(o+1),c3=e.charCodeAt(o+2),t+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),o+=3);return t}}).encode(c.form.password);c.g_cc.func_axios({url:"/oa/login",data:{username:c.form.username,password:e,code:c.form.code},success:function(e){if(0==e.errcode){var t=e.token;if(!t)return void c.g_cc.func_alert("参数异常","error");n.a.set("token",t),c.g_cc.func_alert("登陆成功","success",function(){c.g_cc.func_redirect("/dashboard",{__d:(new Date).valueOf()})})}else e&&e.show_code&&(c.show_code=e.show_code,c.show_code&&c.funcReloadVcode()),c.g_cc.func_alert(e.errmsg,"error")}})},funcReloadVcode:function(){console.log("func_reload_vcode"),c.vcode="",c.vcode="http://php.siyoumi.com/oa/login/vcode?v="+(new Date).valueOf()}}},a=(o("c11S"),o("zCgv"),o("KHd+")),i=Object(a.a)(s,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-container"},[o("el-form",{ref:"form",staticClass:"login-form",attrs:{model:e.form,rules:e.form_rules,"auto-complete":"on","label-position":"left"}},[o("h3",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),o("el-form-item",{attrs:{prop:"username"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),o("el-input",{attrs:{name:"username",type:"text","auto-complete":"on",placeholder:"帐号"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"password"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),o("el-input",{attrs:{type:e.pwdType,name:"password","auto-complete":"on",placeholder:"密码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.func_login(t):null}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),o("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[o("svg-icon",{attrs:{"icon-class":"password"===e.pwdType?"eye":"eye-open"}})],1)],1),e._v(" "),e.show_code?o("el-form-item",{attrs:{prop:"code"}},[o("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"验证码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),e._v(" "),o("div",{staticStyle:{float:"left"},on:{click:e.funcReloadVcode}},[o("img",{staticStyle:{height:"40px","padding-top":"12px"},attrs:{src:e.vcode}})])],1):e._e(),e._v(" "),o("el-form-item",[o("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.func_login(t)}}},[e._v("\n          登陆\n        ")])],1),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[o("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},on:{click:e.test}},[e._v("\n          test\n        ")])],1)],1)],1)},[],!1,null,"37c0ee4e",null);i.options.__file="index.vue";t.default=i.exports},zCgv:function(e,t,o){"use strict";var r=o("iINP");o.n(r).a}}]);