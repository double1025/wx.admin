(window.webpackJsonp=window.webpackJsonp||[]).push([["fnjC"],{fnjC:function(e,t,a){"use strict";a.r(t);var o=a("P2sY"),c=a.n(o),l={data:function(){var e={super_uid:""};return e=c()(e,this.p_page_base.page_data),console.log("page_data"),console.log(e),e},mounted:function(){console.log("mounted"),this.g_page.funcSetVue(this),this.g_page.funcSetApiUrlList("/account/admin/account__list"),this.g_page.funcSetApiUrlSave("/account/admin/account__list/save"),this.g_page.funcSetPageSize(10),this.form_q={compKw:""},this.g_page.funcGetList(),this.form_rules={acc_uidX:[{required:!0,message:"必填",trigger:"blur"}]}},methods:{funcGetListCommonSuccessAfter:function(e){console.log("funcGetListCommonSuccessAfter"),this.super_uid=e.data.super_uid},funcSaveBefore:function(e){return console.log("funcSaveBefore"),this.g_page.funcIsAdminAdd(),e},funcResetPwd:function(e){console.log("funcResetPwd");var t=this;t.g_cc.func_confirm("重置密码为123456，确认吗",function(){t.g_cc.func_axios({url:"/account/admin/account__list/resetPwd",data:{ids:e.id},success:function(e){0==e.data.errcode?t.g_cc.func_alert("密码重置成功"):t.g_cc.func_alert(e.data.errmsg,"error")}})})}}},n=a("KHd+"),i=Object(n.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{staticClass:"x-header"},[a("b",{staticClass:"title"},[e._v("账号管理")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:e.g_page.funcShowDialog}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(t){e.g_page.funcDel("/account/admin/account__list/del")}}},[e._v("删除\n    ")]),e._v(" "),a("el-button",{attrs:{size:"mini",icon:"el-icon-refresh"},on:{click:function(t){e.g_cc.func_reload()}}},[e._v("刷新")])],1),e._v(" "),a("el-main",{staticClass:"x-main"},[a("el-form",{attrs:{inline:!0,model:e.form_q,size:"mini"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{name:"compKw",placeholder:"名称"},model:{value:e.form_q.compKw,callback:function(t){e.$set(e.form_q,"compKw",t)},expression:"form_q.compKw"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.g_page.funcSearch}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"table-wrap"},[a("el-table",{ref:"multipleTable",attrs:{stripe:"","tooltip-effect":"dark",data:e.list_data},on:{"selection-change":e.g_page.funcTableSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{label:"账号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.super_uid)+"@"+e._s(t.row.acc_uid)),1==t.row.acc_lock?a("span",{staticStyle:{color:"red"}},[e._v("[停用]")]):e._e()])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.acc_name)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"身份"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.acc_role_str)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.g_page.funcShowDialog(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.funcResetPwd(t.row)}}},[e._v("重置密码")])]}}])})],1)],1)],1),e._v(" "),a("el-footer",[a("el-pagination",{staticClass:"paging",attrs:{background:"",layout:"total, prev, pager, next, jumper","current-page":e.page_index,"page-size":e.page_size,total:e.page_total},on:{"current-change":e.g_page.funcPageChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.form_dialog_visible,width:"70%"},on:{"update:visible":function(t){e.form_dialog_visible=t}}},[a("el-form",{ref:"form",attrs:{rules:e.form_rules,model:e.form,size:"mini","label-width":"15%"}},[a("el-form-item",{attrs:{label:"账号",prop:"acc_uid",disabled:e.g_page.funcIsAdminAdd()}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.acc_uid,callback:function(t){e.$set(e.form,"acc_uid",t)},expression:"form.acc_uid"}},[a("template",{slot:"prepend"},[e._v(e._s(e.super_uid)+"@")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"acc_name"}},[a("el-input",{model:{value:e.form.acc_name,callback:function(t){e.$set(e.form,"acc_name",t)},expression:"form.acc_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份",prop:"acc_role"}},[a("el-radio",{attrs:{disabled:!0,label:"user"},model:{value:e.form.acc_role,callback:function(t){e.$set(e.form,"acc_role",t)},expression:"form.acc_role"}},[e._v("超级管理员")]),e._v(" "),a("el-radio",{attrs:{label:"admin"},model:{value:e.form.acc_role,callback:function(t){e.$set(e.form,"acc_role",t)},expression:"form.acc_role"}},[e._v("管理员")])],1),e._v(" "),a("el-form-item",{attrs:{label:"停用",prop:"acc_lock"}},[a("el-radio",{attrs:{label:1},model:{value:e.form.acc_lock,callback:function(t){e.$set(e.form,"acc_lock",t)},expression:"form.acc_lock"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0},model:{value:e.form.acc_lock,callback:function(t){e.$set(e.form,"acc_lock",t)},expression:"form.acc_lock"}},[e._v("否")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.g_page.funcBack}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.g_page.funcSave}},[e._v("保存")])],1)],1)],1)},[],!1,null,null,null);i.options.__file="list.vue";t.default=i.exports}}]);